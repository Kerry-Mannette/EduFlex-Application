<!DOCTYPE html>
<html>
<head>
  <title>EduFlex - Submissions</title>
   <link rel="icon" type="image/x-icon" href="../favicon/eduflex_icon.png">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
  <script src="https://kit.fontawesome.com/96e67bb0d3.js" crossorigin="anonymous"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Manrope:wght@200..800&family=Noto+Sans:ital,wght@0,100..900;1,100..900&family=PT+Sans:ital,wght@0,400;0,700;1,400;1,700&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Share+Tech&display=swap" rel="stylesheet">
</head>
<body>
 
  <nav class="navbar navbar-expand-lg bg-primary">

     <a class="navbar-brand p-2 bg-primary fw-bold text-white link-underline-primary" href="#"><i class="fa-solid fa-book"></i>  EduFlex</a> 

    <div class=" container d-flex justify-content-end fw-bold">
      <div class="">
        <ul class="navbar-nav mr-auto mt-lg-0">
      <li class="nav-item  active">
        <a class="nav-link text-white" href="management_menu.html">
         Menu 
        </a>
      </li>
        <li class="nav-item  active">
        <a class="nav-link text-white" href="course_content.html">
         Courses
        </a>
      </li>
        <!-- <li class="nav-item ">
        <a class="nav-link text-white" href="index.html">
        <i class="fa-solid fa-right-to-bracket"></i>
        Login
        </a>
      </li> -->
    </ul>  
      </div>

      
    </div>

  </nav>



  <div class="container d-flex justify-content-center vw-100 mt-5">
    <div class="">
   <h2 class="pt-5 pb-5 fs-1 text-center fw-bold text-primary">Submissions</h2>
 

<table class="table">
    <thead class="thread-dark">
      <tr> 
        <th class="vw-100 bg-primary text-white" scope="col"> Student ID</th>
        <th class="vw-100 bg-primary text-white" scope="col"> Course ID</th>
        <th class=" vw-100 bg-primary text-white" scope="col">Submission Date</th>  
        <th class=" vw-100 bg-primary text-white" scope="col">Grade</th>
      </tr>
    </thead>
    <tbody id="resultsTable">
      <!-- Data will be dynamically inserted here -->
    </tbody>
  </table>
  <h2>Average Grade: <span id="average-grade">Loading...</span></h2>

  

    <script>
        async function fetchSubmissions() {
            try {
                const response = await fetch('/api/submissions');
                const data = await response.json();

                const tableBody = document.getElementById('resultsTable');
                tableBody.innerHTML = data.submissions.map(sub => `
                    <tr>
                        <td>${sub.student_id}</td>
                        <td>${sub.course_id}</td>
                        <td>${sub.submission_date}</td>
                        <td>${sub.grade}</td>
                    </tr>
                `).join('');

                document.getElementById('average-grade').textContent = data.averageGrade.toFixed(2);
            } catch (error) {
                console.error('Error fetching submissions:', error);
            }
        }

        fetchSubmissions();
    </script>
  
   </div> 
    </div>
    
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js" integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO" crossorigin="anonymous"></script>
    
    <div class="container-fluid p-3 fixed-bottom">
      <footer class="text-sm-center text-primary">2025<i class="fa-regular fa-copyright"></i> All Rights Reserved. EduFlex</footer>
    </div>
    
</body>
</html>






